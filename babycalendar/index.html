<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baby Size Tracker ‚Äî hola bean</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --bg: #0a0a0a;
      --surface: #141414;
      --surface-hover: #1a1a1a;
      --border: #222;
      --border-glow: #3a3a3a;
      --text: #fafafa;
      --text-muted: #888;
      --accent: #f4a261;
      --accent-soft: rgba(244, 162, 97, 0.1);
      --pink: #e07a9a;
      --pink-soft: rgba(224, 122, 154, 0.1);
      --purple: #b07ae0;
      --green: #7ae0a2;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ‚îÄ‚îÄ Back link ‚îÄ‚îÄ */
    .back-link {
      position: fixed;
      top: 1.5rem;
      left: 1.5rem;
      z-index: 100;
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.85rem;
      letter-spacing: 0.05em;
      transition: color 0.3s;
    }
    .back-link:hover { color: var(--accent); }

    /* ‚îÄ‚îÄ Hero ‚îÄ‚îÄ */
    .hero {
      text-align: center;
      padding: 6rem 2rem 3rem;
      position: relative;
    }
    .hero h1 {
      font-size: clamp(2rem, 5vw, 3.5rem);
      font-weight: 300;
      letter-spacing: 0.04em;
      margin-bottom: 0.75rem;
    }
    .hero h1 span { color: var(--accent); }
    .hero p {
      color: var(--text-muted);
      font-size: 1.05rem;
      max-width: 500px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* ‚îÄ‚îÄ Trimester tabs ‚îÄ‚îÄ */
    .trimester-nav {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      padding: 1rem 2rem 2rem;
      flex-wrap: wrap;
    }
    .tri-btn {
      padding: 0.6rem 1.5rem;
      border: 1px solid var(--border);
      border-radius: 100px;
      background: transparent;
      color: var(--text-muted);
      font-family: inherit;
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.3s;
      letter-spacing: 0.03em;
    }
    .tri-btn:hover { border-color: var(--border-glow); color: var(--text); }
    .tri-btn.active {
      background: var(--accent-soft);
      border-color: var(--accent);
      color: var(--accent);
    }
    .tri-btn[data-tri="all"].active {
      background: rgba(255,255,255,0.05);
      border-color: var(--text-muted);
      color: var(--text);
    }

    /* ‚îÄ‚îÄ Grid ‚îÄ‚îÄ */
    .weeks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 1rem;
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 2rem 4rem;
    }

    /* ‚îÄ‚îÄ Week card ‚îÄ‚îÄ */
    .week-card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 1.5rem 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    .week-card::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 16px;
      opacity: 0;
      transition: opacity 0.35s;
      background: radial-gradient(circle at 50% 0%, var(--accent-soft) 0%, transparent 70%);
    }
    .week-card:hover {
      border-color: var(--border-glow);
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 12px 40px rgba(0,0,0,0.4);
    }
    .week-card:hover::before { opacity: 1; }

    .week-card .fruit-emoji {
      font-size: 2.8rem;
      display: block;
      margin-bottom: 0.75rem;
      transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      z-index: 1;
    }
    .week-card:hover .fruit-emoji {
      transform: scale(1.25) rotate(-5deg);
    }
    .week-card .week-num {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--text-muted);
      margin-bottom: 0.25rem;
      position: relative;
      z-index: 1;
    }
    .week-card .fruit-name {
      font-size: 0.95rem;
      font-weight: 500;
      position: relative;
      z-index: 1;
    }
    .week-card .size-text {
      font-size: 0.7rem;
      color: var(--text-muted);
      margin-top: 0.35rem;
      position: relative;
      z-index: 1;
    }

    /* ‚îÄ‚îÄ Stagger animation ‚îÄ‚îÄ */
    .week-card {
      opacity: 0;
      transform: translateY(20px);
      animation: cardIn 0.5s ease forwards;
    }

    @keyframes cardIn {
      to { opacity: 1; transform: translateY(0); }
    }

    /* ‚îÄ‚îÄ Modal overlay ‚îÄ‚îÄ */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      z-index: 200;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 2rem;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.35s;
    }
    .modal-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .modal {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 24px;
      max-width: 560px;
      width: 100%;
      max-height: 85vh;
      overflow-y: auto;
      padding: 2.5rem;
      position: relative;
      transform: translateY(30px) scale(0.95);
      transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .modal-overlay.open .modal {
      transform: translateY(0) scale(1);
    }

    .modal-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: transparent;
      color: var(--text-muted);
      font-size: 1.1rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
    }
    .modal-close:hover { border-color: var(--text-muted); color: var(--text); }

    .modal-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 2rem;
    }
    .modal-nav button {
      padding: 0.5rem 1.2rem;
      border: 1px solid var(--border);
      border-radius: 100px;
      background: transparent;
      color: var(--text-muted);
      font-family: inherit;
      font-size: 0.8rem;
      cursor: pointer;
      transition: all 0.2s;
      letter-spacing: 0.03em;
    }
    .modal-nav button:hover { border-color: var(--accent); color: var(--accent); }
    .modal-nav button:disabled { opacity: 0.25; cursor: default; }
    .modal-nav button:disabled:hover { border-color: var(--border); color: var(--text-muted); }

    .modal-emoji {
      font-size: 5rem;
      text-align: center;
      display: block;
      margin-bottom: 1rem;
      animation: fruitBounce 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    @keyframes fruitBounce {
      0% { transform: scale(0.3) rotate(-10deg); opacity: 0; }
      60% { transform: scale(1.15) rotate(3deg); }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }

    .modal-week {
      text-align: center;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--accent);
      margin-bottom: 0.25rem;
    }
    .modal-fruit-name {
      text-align: center;
      font-size: 1.6rem;
      font-weight: 600;
      margin-bottom: 0.25rem;
    }
    .modal-size {
      text-align: center;
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 1.5rem;
    }

    .modal-section {
      margin-bottom: 1.25rem;
    }
    .modal-section h3 {
      font-size: 0.7rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }
    .modal-section p {
      font-size: 0.92rem;
      line-height: 1.65;
      color: #ccc;
    }

    /* ‚îÄ‚îÄ Progress bar in modal ‚îÄ‚îÄ */
    .progress-bar {
      width: 100%;
      height: 4px;
      background: var(--border);
      border-radius: 4px;
      margin-bottom: 1.5rem;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      border-radius: 4px;
      background: linear-gradient(90deg, var(--accent), var(--pink));
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* ‚îÄ‚îÄ Tags ‚îÄ‚îÄ */
    .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.4rem;
      margin-top: 0.5rem;
    }
    .tag {
      font-size: 0.72rem;
      padding: 0.3rem 0.7rem;
      border-radius: 100px;
      border: 1px solid var(--border);
      color: var(--text-muted);
      letter-spacing: 0.02em;
    }
    .tag.highlight { border-color: var(--accent); color: var(--accent); background: var(--accent-soft); }
    .tag.pink { border-color: var(--pink); color: var(--pink); background: var(--pink-soft); }

    /* ‚îÄ‚îÄ Trimester badge ‚îÄ‚îÄ */
    .tri-badge {
      display: inline-block;
      padding: 0.25rem 0.7rem;
      border-radius: 100px;
      font-size: 0.7rem;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      margin-bottom: 1rem;
    }
    .tri-badge.t1 { background: rgba(122,224,162,0.1); color: var(--green); }
    .tri-badge.t2 { background: rgba(244,162,97,0.1); color: var(--accent); }
    .tri-badge.t3 { background: rgba(176,122,224,0.1); color: var(--purple); }

    /* ‚îÄ‚îÄ Scrollbar ‚îÄ‚îÄ */
    .modal::-webkit-scrollbar { width: 6px; }
    .modal::-webkit-scrollbar-track { background: transparent; }
    .modal::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

    /* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
    @media (max-width: 600px) {
      .weeks-grid { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 0.75rem; }
      .modal { padding: 1.75rem; border-radius: 20px; }
      .hero { padding: 5rem 1.5rem 2rem; }
    }
  </style>
</head>
<body>
  <a href="/" class="back-link">&larr; back</a>

  <div class="hero">
    <h1>how big is <span>baby</span>?</h1>
    <p>tap a week to see what fruit your baby is the size of, what's developing, and fun details</p>
  </div>

  <div class="trimester-nav">
    <button class="tri-btn active" data-tri="all">All Weeks</button>
    <button class="tri-btn" data-tri="1">1st Trimester</button>
    <button class="tri-btn" data-tri="2">2nd Trimester</button>
    <button class="tri-btn" data-tri="3">3rd Trimester</button>
  </div>

  <div class="weeks-grid" id="grid"></div>

  <div class="modal-overlay" id="overlay">
    <div class="modal" id="modal"></div>
  </div>

  <script>
    // ‚îÄ‚îÄ Week data ‚îÄ‚îÄ
    const weeks = [
      { week:4, emoji:"üå∞", fruit:"Poppy Seed", size:"0.04 in", trimester:1,
        development:"The fertilized egg has implanted in the uterus. The embryo is forming two layers of cells that will develop into organs and body parts.",
        mom:"You may miss your period this week. Some women experience light spotting called implantation bleeding.",
        milestones:["Implantation complete","Placenta forming","Amniotic sac developing"] },
      { week:5, emoji:"ü´ò", fruit:"Sesame Seed", size:"0.05 in", trimester:1,
        development:"The heart is starting to form and will begin beating soon. The neural tube (which becomes the brain and spinal cord) is developing.",
        mom:"Morning sickness may begin. Fatigue and tender breasts are common as hormones surge.",
        milestones:["Heart begins forming","Neural tube developing","Tiny tail present"] },
      { week:6, emoji:"ü´ê", fruit:"Sweet Pea", size:"0.25 in", trimester:1,
        development:"The heart is now beating about 110 times per minute. Small buds appear that will grow into arms and legs. Facial features begin forming.",
        mom:"Nausea may intensify. You might notice heightened sense of smell and food aversions.",
        milestones:["Heartbeat detectable","Arm & leg buds","Nose & mouth forming"] },
      { week:7, emoji:"ü´ê", fruit:"Blueberry", size:"0.5 in", trimester:1,
        development:"The brain is growing rapidly, producing about 100 new cells every minute. Hands and feet are emerging from the arm and leg buds.",
        mom:"Frequent urination begins as your uterus grows and presses on your bladder.",
        milestones:["100 brain cells/min","Hands & feet forming","Kidneys developing"] },
      { week:8, emoji:"üçá", fruit:"Raspberry", size:"0.63 in", trimester:1,
        development:"Baby is moving constantly though you can't feel it yet. Fingers and toes are forming. The upper lip and nose have formed.",
        mom:"Your blood volume is increasing. You may feel bloated and your waistband may start getting tight.",
        milestones:["Fingers forming","Spontaneous movement","Taste buds developing"] },
      { week:9, emoji:"üçí", fruit:"Cherry", size:"0.9 in", trimester:1,
        development:"All essential organs have begun forming. The tiny tail has disappeared. Baby now looks more human with distinct elbows and toes.",
        mom:"Mood swings are normal due to hormonal changes. Your skin might start to glow ‚Äî or break out.",
        milestones:["All organs initiated","Tail gone","Muscles forming"] },
      { week:10, emoji:"üçì", fruit:"Strawberry", size:"1.2 in", trimester:1,
        development:"Baby's vital organs are fully formed and starting to function. Tiny nails are beginning to form on fingers and toes. Bones are hardening.",
        mom:"Your bump may start showing slightly. Veins might become more visible as blood volume increases by 50%.",
        milestones:["Organs functioning","Nails forming","Bones hardening"] },
      { week:11, emoji:"ü´í", fruit:"Fig", size:"1.6 in", trimester:1,
        development:"Baby can open and close fists, and tiny tooth buds are appearing under the gums. The head makes up about half the body length.",
        mom:"Morning sickness may start to ease. You're approaching the end of the first trimester!",
        milestones:["Can make a fist","Tooth buds appear","Diaphragm developing"] },
      { week:12, emoji:"üçë", fruit:"Plum", size:"2.1 in", trimester:1,
        development:"Reflexes are developing ‚Äî baby can curl toes, make sucking movements, and even get hiccups. Fingernails and toenails are forming.",
        mom:"Risk of miscarriage drops significantly. Many parents choose to share the news this week.",
        milestones:["Reflexes active","Can get hiccups","Vocal cords forming"] },
      { week:13, emoji:"üçã", fruit:"Lemon", size:"2.9 in", trimester:1,
        development:"Baby has unique fingerprints already! Organs are maturing and the intestines are moving from the umbilical cord into the abdomen.",
        mom:"Welcome to the second trimester! Energy often returns and nausea fades. The golden period begins.",
        milestones:["Unique fingerprints","Intestines in place","Vocal cords complete"] },
      { week:14, emoji:"ü•ù", fruit:"Kiwi", size:"3.4 in", trimester:2,
        development:"Baby is practicing breathing by inhaling amniotic fluid. Facial muscles are working ‚Äî baby might be squinting or frowning.",
        mom:"You may notice increased appetite as nausea subsides. Enjoy eating again!",
        milestones:["Practicing breathing","Facial expressions","Lanugo hair growing"] },
      { week:15, emoji:"üçä", fruit:"Navel Orange", size:"4 in", trimester:2,
        development:"Baby can sense light even though eyelids are fused shut. Legs are growing longer than arms now. Skeleton is developing bones.",
        mom:"You might feel a fluttering sensation ‚Äî those could be baby's first movements (quickening)!",
        milestones:["Senses light","Skeleton forming","Legs longer than arms"] },
      { week:16, emoji:"ü•ë", fruit:"Avocado", size:"4.6 in", trimester:2,
        development:"Baby's heart is pumping about 25 quarts of blood per day. The eyes are working and can slowly move. Toenails are starting to grow.",
        mom:"The famous pregnancy glow may appear thanks to increased blood flow and hormones.",
        milestones:["Heart pumps 25 qt/day","Eyes can move","Toenails growing"] },
      { week:17, emoji:"ü•ï", fruit:"Pear", size:"5.1 in", trimester:2,
        development:"Fat is starting to form under baby's skin, which will help with temperature regulation. Sweat glands are developing.",
        mom:"You may start sleeping on your side more comfortably. A pregnancy pillow might become your best friend.",
        milestones:["Fat forming","Sweat glands","Umbilical cord strengthening"] },
      { week:18, emoji:"ü´ë", fruit:"Bell Pepper", size:"5.6 in", trimester:2,
        development:"Baby can yawn, hiccup, and even suck their thumb! If you're having a girl, the uterus and fallopian tubes are formed.",
        mom:"You'll likely feel definite kicks and movements now. Your partner might be able to feel them too!",
        milestones:["Can yawn & suck thumb","Ears in final position","Myelin forming"] },
      { week:19, emoji:"ü•≠", fruit:"Mango", size:"6 in", trimester:2,
        development:"A waxy coating called vernix caseosa covers baby's skin to protect it from the amniotic fluid. Sensory development is exploding.",
        mom:"Anatomy scan week! You might find out the sex. Enjoy seeing your baby on the ultrasound screen.",
        milestones:["Vernix coating","Senses developing rapidly","Can hear sounds"] },
      { week:20, emoji:"üçå", fruit:"Banana", size:"6.5 in", trimester:2,
        development:"You're halfway there! Baby can swallow and is producing meconium. The nervous system is connecting millions of neurons.",
        mom:"Your uterus is at belly button level. You're officially showing!",
        milestones:["HALFWAY! üéâ","Can swallow","Neurons connecting rapidly"] },
      { week:21, emoji:"ü•ï", fruit:"Carrot", size:"10.5 in", trimester:2,
        development:"Baby's movements are more coordinated. Eyebrows and eyelids are fully formed. The bone marrow starts producing blood cells.",
        mom:"You may experience Braxton Hicks contractions ‚Äî your body is practicing for delivery.",
        milestones:["Coordinated movement","Eyebrows formed","Bone marrow active"] },
      { week:22, emoji:"üåΩ", fruit:"Corn on the Cob", size:"11 in", trimester:2,
        development:"Baby looks like a miniature newborn. The lips and eyes are more defined. The pancreas is developing steadily.",
        mom:"Stretch marks might start appearing. Staying hydrated and moisturized can help.",
        milestones:["Looks like a newborn","Lips defined","Grip strength increasing"] },
      { week:23, emoji:"ü•¶", fruit:"Large Mango", size:"11.4 in", trimester:2,
        development:"Baby can hear your voice, heartbeat, and outside sounds. Lungs are developing surfactant needed for breathing outside the womb.",
        mom:"You might notice baby responding to loud sounds or music with kicks.",
        milestones:["Hears your voice","Lung surfactant forming","Skin translucent"] },
      { week:24, emoji:"ü´ë", fruit:"Cantaloupe", size:"11.8 in", trimester:2,
        development:"Baby's face is almost fully formed with eyelashes, eyebrows, and hair. The inner ear is developed ‚Äî baby has a sense of balance.",
        mom:"Viability milestone ‚Äî baby has a fighting chance if born early with medical intervention.",
        milestones:["Viability milestone","Has eyelashes","Sense of balance"] },
      { week:25, emoji:"ü••", fruit:"Cauliflower", size:"13.6 in", trimester:2,
        development:"Baby is gaining more fat and filling out. The nostrils begin to open and practice breathing continues. Skin is becoming less wrinkled.",
        mom:"You may notice more frequent heartburn and shortness of breath as baby pushes up.",
        milestones:["Nostrils opening","More body fat","Startle reflex active"] },
      { week:26, emoji:"ü•¨", fruit:"Lettuce Head", size:"14 in", trimester:2,
        development:"Baby's eyes are opening for the first time! They can see light filtering through. The immune system is absorbing your antibodies.",
        mom:"Third trimester is right around the corner. Nesting instincts might be kicking in.",
        milestones:["Eyes open! üëÄ","Absorbing antibodies","Brain waves active"] },
      { week:27, emoji:"ü•¶", fruit:"Head of Broccoli", size:"14.4 in", trimester:2,
        development:"Baby sleeps and wakes on a regular schedule. The brain is extremely active with new neural connections forming constantly.",
        mom:"Welcome to the third trimester! You may notice baby's sleep/wake patterns.",
        milestones:["Sleep/wake cycle","Brain very active","Can taste flavors"] },
      { week:28, emoji:"üçÜ", fruit:"Eggplant", size:"14.8 in", trimester:3,
        development:"Baby can blink and has developed REM sleep ‚Äî meaning baby might be dreaming! Brain tissue is increasing rapidly.",
        mom:"Kick counts become important. You should feel about 10 movements in 2 hours.",
        milestones:["Can dream (REM)","Can blink","Rapid brain growth"] },
      { week:29, emoji:"üéÉ", fruit:"Butternut Squash", size:"15.2 in", trimester:3,
        development:"Baby's muscles and lungs are maturing. Bones are fully developed but still soft. Baby is getting more cramped in there!",
        mom:"You might feel more tired again as baby grows and demands more energy.",
        milestones:["Muscles maturing","Soft bones formed","Head is growing"] },
      { week:30, emoji:"ü•í", fruit:"Cucumber", size:"15.7 in", trimester:3,
        development:"Baby's brain is getting wrinklier (more surface area = more brain power). Red blood cells are now fully forming in the bone marrow.",
        mom:"Trouble sleeping is common. Finding comfortable positions gets harder.",
        milestones:["Brain surface area ‚Üë","Red blood cells forming","3 lbs now"] },
      { week:31, emoji:"ü••", fruit:"Coconut", size:"16.2 in", trimester:3,
        development:"Baby can process information from all five senses now. The irises can dilate and constrict in response to light.",
        mom:"You may notice more Braxton Hicks. Baby's kicks feel stronger and more pronounced.",
        milestones:["All 5 senses active","Pupils react to light","Rapid weight gain"] },
      { week:32, emoji:"üçà", fruit:"Jicama", size:"16.7 in", trimester:3,
        development:"Baby is practicing breathing, swallowing, sucking, and kicking ‚Äî all skills needed after birth. Toenails are fully formed.",
        mom:"You may feel breathless as baby pushes against your diaphragm. Baby might drop lower soon.",
        milestones:["Practicing life skills","Toenails complete","Downy hair shedding"] },
      { week:33, emoji:"üçç", fruit:"Pineapple", size:"17.2 in", trimester:3,
        development:"Baby's immune system is getting a boost from you. The bones are hardening everywhere except the skull ‚Äî it needs to stay flexible for birth.",
        mom:"Increased pressure on your bladder means even more bathroom trips. Hang in there!",
        milestones:["Immune system boost","Skull stays soft","Antibodies transferring"] },
      { week:34, emoji:"üçà", fruit:"Cantaloupe Melon", size:"17.7 in", trimester:3,
        development:"Baby's lungs and central nervous system are maturing. The vernix coating is thickening. If born now, baby would likely be healthy with some NICU time.",
        mom:"Fatigue and swelling are normal. Elevate your feet when you can.",
        milestones:["Lungs maturing","Vernix thickening","Central nervous system developing"] },
      { week:35, emoji:"üçØ", fruit:"Honeydew Melon", size:"18.2 in", trimester:3,
        development:"Baby's kidneys are fully developed and the liver can process waste. Most babies settle into a head-down position this week.",
        mom:"Baby is running out of room! Movements feel more like rolls and wiggles than kicks.",
        milestones:["Kidneys fully developed","Head-down position","5.25 lbs now"] },
      { week:36, emoji:"ü•¨", fruit:"Romaine Lettuce", size:"18.7 in", trimester:3,
        development:"Baby is shedding the lanugo (fine body hair) and vernix. Fat continues to accumulate, filling out those adorable arm and leg rolls.",
        mom:"Your cervix may begin to dilate and efface. Weekly checkups usually start now.",
        milestones:["Shedding lanugo","Gaining cute chub","Digestive system ready"] },
      { week:37, emoji:"ü•¨", fruit:"Swiss Chard Bunch", size:"19.1 in", trimester:3,
        development:"Baby is considered early term! Practicing inhaling and exhaling amniotic fluid. Firm grasp developed ‚Äî baby will grab your finger!",
        mom:"Nesting instincts may be in full force. You might suddenly want to clean and organize everything.",
        milestones:["Early term! üéâ","Strong grasp","Lungs nearly mature"] },
      { week:38, emoji:"üéÉ", fruit:"Mini Pumpkin", size:"19.6 in", trimester:3,
        development:"Baby's organs are fully mature and ready for life outside. The brain and nervous system are fine-tuning. Meconium fills the intestines.",
        mom:"You might experience the 'bloody show' or lose your mucus plug ‚Äî signs labor could be near.",
        milestones:["Organs fully mature","Brain fine-tuning","Tear ducts developed"] },
      { week:39, emoji:"üçâ", fruit:"Small Watermelon", size:"20 in", trimester:3,
        development:"Baby is full term! Brain development is incredible ‚Äî it's grown 30% in the last few weeks. Baby is coated in new skin cells.",
        mom:"You might feel a burst of energy (nesting!) or feel very ready to be done. Both are normal!",
        milestones:["Full term! üéâ","Brain grew 30%","New skin forming"] },
      { week:40, emoji:"üçâ", fruit:"Watermelon", size:"20.2 in", trimester:3,
        development:"Baby is ready to meet you! Average weight is about 7.5 lbs. The skull bones are not yet fused to allow passage through the birth canal.",
        mom:"Due date week! Only about 5% of babies arrive on their actual due date. Baby will come when ready!",
        milestones:["DUE DATE! üéâüéâüéâ","~7.5 lbs","Ready for the world"] },
    ];

    // ‚îÄ‚îÄ Render grid ‚îÄ‚îÄ
    const grid = document.getElementById('grid');
    const overlay = document.getElementById('overlay');
    const modal = document.getElementById('modal');
    let activeFilter = 'all';
    let currentIndex = 0;

    function renderGrid(filter) {
      const filtered = filter === 'all' ? weeks : weeks.filter(w => w.trimester === parseInt(filter));
      grid.innerHTML = '';
      filtered.forEach((w, i) => {
        const card = document.createElement('div');
        card.className = 'week-card';
        card.style.animationDelay = `${i * 0.04}s`;
        card.innerHTML = `
          <span class="fruit-emoji">${w.emoji}</span>
          <div class="week-num">Week ${w.week}</div>
          <div class="fruit-name">${w.fruit}</div>
          <div class="size-text">${w.size}</div>
        `;
        card.addEventListener('click', () => openModal(weeks.indexOf(w)));
        grid.appendChild(card);
      });
    }

    // ‚îÄ‚îÄ Trimester filtering ‚îÄ‚îÄ
    document.querySelectorAll('.tri-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tri-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        activeFilter = btn.dataset.tri;
        renderGrid(activeFilter);
      });
    });

    // ‚îÄ‚îÄ Modal ‚îÄ‚îÄ
    function openModal(index) {
      currentIndex = index;
      renderModal();
      overlay.classList.add('open');
      document.body.style.overflow = 'hidden';
    }

    function closeModal() {
      overlay.classList.remove('open');
      document.body.style.overflow = '';
    }

    function renderModal() {
      const w = weeks[currentIndex];
      const progress = ((w.week - 4) / 36) * 100;
      const triClass = w.trimester === 1 ? 't1' : w.trimester === 2 ? 't2' : 't3';
      const triName = w.trimester === 1 ? '1st Trimester' : w.trimester === 2 ? '2nd Trimester' : '3rd Trimester';

      modal.innerHTML = `
        <button class="modal-close" onclick="closeModal()">&times;</button>
        <span class="modal-emoji">${w.emoji}</span>
        <div class="modal-week">Week ${w.week}</div>
        <div class="modal-fruit-name">${w.fruit}</div>
        <div class="modal-size">${w.size}</div>
        <div style="text-align:center"><span class="tri-badge ${triClass}">${triName}</span></div>
        <div class="progress-bar"><div class="progress-fill" style="width:${progress}%"></div></div>

        <div class="modal-section">
          <h3>üë∂ Baby's Development</h3>
          <p>${w.development}</p>
        </div>

        <div class="modal-section">
          <h3>ü§∞ What Mom Might Feel</h3>
          <p>${w.mom}</p>
        </div>

        <div class="modal-section">
          <h3>‚≠ê Key Milestones</h3>
          <div class="tags">
            ${w.milestones.map((m, i) => `<span class="tag ${i === 0 ? 'highlight' : i === 1 ? 'pink' : ''}">${m}</span>`).join('')}
          </div>
        </div>

        <div class="modal-nav">
          <button ${currentIndex === 0 ? 'disabled' : ''} onclick="navModal(-1)">&larr; Week ${currentIndex > 0 ? weeks[currentIndex-1].week : ''}</button>
          <button ${currentIndex === weeks.length -1 ? 'disabled' : ''} onclick="navModal(1)">Week ${currentIndex < weeks.length-1 ? weeks[currentIndex+1].week : ''} &rarr;</button>
        </div>
      `;
    }

    function navModal(dir) {
      currentIndex = Math.max(0, Math.min(weeks.length - 1, currentIndex + dir));
      renderModal();
    }

    overlay.addEventListener('click', e => {
      if (e.target === overlay) closeModal();
    });

    document.addEventListener('keydown', e => {
      if (!overlay.classList.contains('open')) return;
      if (e.key === 'Escape') closeModal();
      if (e.key === 'ArrowLeft') navModal(-1);
      if (e.key === 'ArrowRight') navModal(1);
    });

    // ‚îÄ‚îÄ Init ‚îÄ‚îÄ
    renderGrid('all');
  </script>
</body>
</html>
